const _0x539396=_0x384a;(function(_0x36118e,_0x44f1b8){const _0x4697ba=_0x384a,_0x15aeb2=_0x36118e();while(!![]){try{const _0x146143=parseInt(_0x4697ba(0xdc))/0x1+parseInt(_0x4697ba(0x9c))/0x2+parseInt(_0x4697ba(0xd4))/0x3+-parseInt(_0x4697ba(0xd0))/0x4*(-parseInt(_0x4697ba(0xbd))/0x5)+parseInt(_0x4697ba(0xb7))/0x6*(-parseInt(_0x4697ba(0xd5))/0x7)+-parseInt(_0x4697ba(0xda))/0x8+parseInt(_0x4697ba(0xb5))/0x9*(-parseInt(_0x4697ba(0xb4))/0xa);if(_0x146143===_0x44f1b8)break;else _0x15aeb2['push'](_0x15aeb2['shift']());}catch(_0x17dd03){_0x15aeb2['push'](_0x15aeb2['shift']());}}}(_0x1b7c,0x22e4f));const {ethers}=require(_0x539396(0xc0)),{NETWORKS,ERC20_ABI,SWAP_ABI}=require(_0x539396(0xd8)),{checkBalance,approveToken,estimateGasFees}=require(_0x539396(0xb9)),{colorText,COLORS}=require(_0x539396(0xab)),sleep=_0x4ad1bf=>new Promise(_0x28bf3f=>setTimeout(_0x28bf3f,_0x4ad1bf));function _0x1b7c(){const _0x57de98=['race','RED','message','interface','Insufficient\x20funds\x20for\x20gas','insufficient\x20funds','sendTransaction','Failed\x20to\x20swap\x20USDC\x20to\x20R2USD\x20after\x20all\x20retries:','115730NjePdj','180wzWxpF','Signer\x20had\x20insufficient\x20balance','1474182Neyzma','sepolia','./sign','toString','exchange','error','50jqxEJm','Swapping\x20','\x20USDC\x20but\x20trying\x20to\x20swap\x20','ethers','Transaction\x20timeout','address','hash','encode','New\x20R2USD\x20balance:\x20','bscTestnet','AbiCoder','code','Insufficient\x20USDC\x20balance.\x20You\x20have\x20','Check\x20on\x20explorer:\x20','parseUnits','Swap\x20attempt\x20','WHITE','New\x20USDC\x20balance:\x20','log','95564tOynxE','USDC_TO_R2USD_CONTRACT','USDC_ADDRESS','exports','597651pailSt','7otaQir','GREEN','plumeTestnet','../config/config','explorer','83992ObfACU','Contract','130835CLXdhd','\x20failed:','includes','123242kBPYQT','arbitrumSepolia','defaultAbiCoder','decimals','Current\x20USDC\x20balance:\x20','wait','insufficient\x20balance','concat','Insufficient\x20balances\x20for\x20gas\x20fees','INSUFFICIENT_FUNDS','uint256','Retrying\x20swap\x20in\x203\x20seconds...','Swap\x20confirmed!','YELLOW','networkKey','../utils/colors'];_0x1b7c=function(){return _0x57de98;};return _0x1b7c();}async function swapUSDCtoR2USD(_0x3e021a,_0x536cce,_0x1ddf06=0x5,_0x5f22f3=0x493e0){const _0x40138d=_0x539396;let _0xdcb7d0=0x0;while(_0xdcb7d0<=_0x1ddf06){try{const {contracts:_0x4d1709}=NETWORKS[_0x3e021a[_0x40138d(0xaa)]],_0x1e663b=await checkBalance(_0x3e021a,_0x4d1709[_0x40138d(0xd2)]);console['log']('\x20'+colorText(_0x40138d(0xa0)+_0x1e663b,COLORS['WHITE']));if(parseFloat(_0x1e663b)<parseFloat(_0x536cce))return console[_0x40138d(0xbc)]('\x20'+colorText(_0x40138d(0xc9)+_0x1e663b+_0x40138d(0xbf)+_0x536cce+'\x20USDC.',COLORS[_0x40138d(0xad)])),![];const _0x3809ee=await approveToken(_0x3e021a,_0x4d1709[_0x40138d(0xd2)],_0x4d1709[_0x40138d(0xd1)],_0x536cce);if(!_0x3809ee)return![];const _0x1abf89=new ethers['Contract'](_0x4d1709[_0x40138d(0xd2)],ERC20_ABI,_0x3e021a),_0x151b93=await _0x1abf89[_0x40138d(0x9f)](),_0x5d430a=ethers[_0x40138d(0xcb)](_0x536cce[_0x40138d(0xba)](),_0x151b93),_0x552a2c=_0x5d430a*0x61n/0x64n;let _0xd7ee61;if(_0x3e021a[_0x40138d(0xaa)]===_0x40138d(0xb8)||_0x3e021a[_0x40138d(0xaa)]===_0x40138d(0xd7)||_0x3e021a[_0x40138d(0xaa)]==='bscTestnet'||_0x3e021a[_0x40138d(0xaa)]==='arbitrumSepolia'||_0x3e021a['networkKey']==='baseSepolia')_0xd7ee61=ethers[_0x40138d(0xa3)]([_0x4d1709['USDC_TO_R2USD_METHOD_ID'],ethers[_0x40138d(0xc7)][_0x40138d(0x9e)]()[_0x40138d(0xc4)]([_0x40138d(0xc2),_0x40138d(0xa6),_0x40138d(0xa6),_0x40138d(0xa6),'uint256','uint256',_0x40138d(0xa6)],[_0x3e021a[_0x40138d(0xc2)],_0x5d430a,0x0n,0x0n,0x0n,0x0n,0x0n])]);else{const _0x24e5d4=new ethers[(_0x40138d(0xdb))](_0x4d1709[_0x40138d(0xd1)],SWAP_ABI,_0x3e021a);_0xd7ee61=_0x24e5d4[_0x40138d(0xaf)]['encodeFunctionData'](_0x40138d(0xbb),[0x1,0x0,_0x5d430a,_0x552a2c]);}console['log']('\x20'+colorText(_0x40138d(0xbe)+_0x536cce+'\x20USDC\x20to\x20R2USD...',COLORS[_0x40138d(0xa9)]));const _0x304826=await estimateGasFees(_0x3e021a['provider'],_0x3e021a[_0x40138d(0xaa)]);let _0x2783ea;_0x3e021a[_0x40138d(0xaa)]===_0x40138d(0xc6)?_0x2783ea=await _0x3e021a['sendTransaction']({'to':_0x4d1709[_0x40138d(0xd1)],'data':_0xd7ee61,'gasLimit':0x33450,'gasPrice':_0x304826['gasPrice'],'type':0x0}):_0x2783ea=await _0x3e021a[_0x40138d(0xb2)]({'to':_0x4d1709[_0x40138d(0xd1)],'data':_0xd7ee61,'gasLimit':_0x3e021a[_0x40138d(0xaa)]===_0x40138d(0x9d)?0x33450:0x33450,..._0x304826});console['log']('\x20'+colorText('Transaction\x20sent:\x20'+_0x2783ea[_0x40138d(0xc3)],COLORS[_0x40138d(0xcd)])),console['log']('\x20'+colorText(_0x40138d(0xca)+NETWORKS[_0x3e021a[_0x40138d(0xaa)]][_0x40138d(0xd9)]+'/tx/'+_0x2783ea[_0x40138d(0xc3)],COLORS['GRAY']));const _0x47c143=new Promise((_0x3bf055,_0x2dd93b)=>{const _0x1ed249=_0x40138d;setTimeout(()=>_0x2dd93b(new Error(_0x1ed249(0xc1))),_0x5f22f3);});await Promise[_0x40138d(0xac)]([_0x2783ea[_0x40138d(0xa1)](),_0x47c143]),console['log']('\x20'+colorText(_0x40138d(0xa8),COLORS[_0x40138d(0xd6)]));const _0x5c9a43=await checkBalance(_0x3e021a,_0x4d1709[_0x40138d(0xd2)]),_0xef0312=await checkBalance(_0x3e021a,_0x4d1709['R2USD_ADDRESS']);return console['log']('\x20'+colorText(_0x40138d(0xce)+_0x5c9a43,COLORS['WHITE'])),console['log']('\x20'+colorText(_0x40138d(0xc5)+_0xef0312,COLORS['WHITE'])),!![];}catch(_0x5efb04){if(_0x5efb04['code']==='INSUFFICIENT_FUNDS'||_0x5efb04['message']&&(_0x5efb04[_0x40138d(0xae)][_0x40138d(0x9b)](_0x40138d(0xb1))||_0x5efb04[_0x40138d(0xae)][_0x40138d(0x9b)](_0x40138d(0xb6))||_0x5efb04[_0x40138d(0xae)][_0x40138d(0x9b)](_0x40138d(0xa2)))){console[_0x40138d(0xbc)]('\x20'+colorText(_0x40138d(0xa4),COLORS['RED']));const _0x1d8c67=new Error(_0x5efb04[_0x40138d(0xae)]||_0x40138d(0xb0)||'Signer\x20had\x20insufficient\x20balance');_0x1d8c67[_0x40138d(0xc8)]=_0x40138d(0xa5);throw _0x1d8c67;}_0xdcb7d0++;if(_0x5efb04[_0x40138d(0xae)]===_0x40138d(0xc1)||_0xdcb7d0<=_0x1ddf06)console[_0x40138d(0xbc)]('\x20'+colorText(_0x40138d(0xcc)+_0xdcb7d0+'/'+_0x1ddf06+_0x40138d(0x9a),COLORS[_0x40138d(0xa9)]),_0x5efb04[_0x40138d(0xae)]),console[_0x40138d(0xcf)]('\x20'+colorText(_0x40138d(0xa7),COLORS[_0x40138d(0xa9)])),await sleep(0xbb8);else return console['error']('\x20'+colorText(_0x40138d(0xb3),COLORS[_0x40138d(0xad)]),_0x5efb04['message']),![];}}}function _0x384a(_0x31d082,_0x58b269){const _0x1b7c03=_0x1b7c();return _0x384a=function(_0x384ac4,_0x16ddb4){_0x384ac4=_0x384ac4-0x9a;let _0x5f49cf=_0x1b7c03[_0x384ac4];return _0x5f49cf;},_0x384a(_0x31d082,_0x58b269);}module[_0x539396(0xd3)]={'swapUSDCtoR2USD':swapUSDCtoR2USD};
