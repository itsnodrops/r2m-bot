const _0x12a85a=_0x2596;(function(_0x497508,_0x3585aa){const _0x1e143d=_0x2596,_0x4c5f64=_0x497508();while(!![]){try{const _0xe8102a=-parseInt(_0x1e143d(0x111))/0x1*(-parseInt(_0x1e143d(0x130))/0x2)+parseInt(_0x1e143d(0x133))/0x3+-parseInt(_0x1e143d(0x131))/0x4*(-parseInt(_0x1e143d(0x102))/0x5)+-parseInt(_0x1e143d(0x107))/0x6+-parseInt(_0x1e143d(0x12b))/0x7+parseInt(_0x1e143d(0x112))/0x8+parseInt(_0x1e143d(0x12a))/0x9;if(_0xe8102a===_0x3585aa)break;else _0x4c5f64['push'](_0x4c5f64['shift']());}catch(_0x57d2d3){_0x4c5f64['push'](_0x4c5f64['shift']());}}}(_0xcb8b,0x63db2));const {ethers}=require(_0x12a85a(0x11e)),{NETWORKS,ERC20_ABI}=require(_0x12a85a(0x132)),{colorText,COLORS}=require(_0x12a85a(0x12c));async function checkEthBalance(_0x528a01){const _0x56dab5=_0x12a85a;try{const _0x3376e4=await _0x528a01[_0x56dab5(0x10d)]['getBalance'](_0x528a01[_0x56dab5(0x119)]);return ethers[_0x56dab5(0x124)](_0x3376e4);}catch(_0x2a77b5){return console[_0x56dab5(0x120)]('\x20'+colorText(_0x56dab5(0x110),COLORS[_0x56dab5(0x129)]),_0x2a77b5[_0x56dab5(0x121)]),'0';}}function _0x2596(_0x278400,_0x2d0811){const _0xcb8bef=_0xcb8b();return _0x2596=function(_0x259675,_0x2d5470){_0x259675=_0x259675-0x101;let _0x3fe8fa=_0xcb8bef[_0x259675];return _0x3fe8fa;},_0x2596(_0x278400,_0x2d0811);}function _0xcb8b(){const _0x3156cc=['RED','1904958kSyuik','4054253OkEVeT','../utils/colors','decimals','parseUnits','/tx/','18HbeEOR','4dhQIXl','../config/config','530097eHjjDy','Signer\x20had\x20insufficient\x20balance','1158615wbvaCb','includes','maxFeePerGas','GREEN','wait','4518312OErSuV','Invalid\x20spender\x20address:\x20','Approval\x20transaction\x20sent:\x20','YELLOW','0.1','WHITE','provider','hash','gwei','Failed\x20to\x20check\x20ETH\x20balance:','75715GZbdzS','3517776KMmXZr','insufficient\x20balance','approve','Approval\x20confirmed','Sufficient\x20allowance\x20already\x20exists','formatUnits','log','address','Insufficient\x20funds\x20for\x20gas','explorer','isAddress','toString','ethers','INSUFFICIENT_FUNDS','error','message','Insufficient\x20balances\x20for\x20gas\x20fees','balanceOf','formatEther','networkKey','Contract','GRAY','Check\x20on\x20explorer:\x20'];_0xcb8b=function(){return _0x3156cc;};return _0xcb8b();}async function checkBalance(_0x493a19,_0x3598e2){const _0x5beaa9=_0x12a85a;try{const _0x4ff207=new ethers[(_0x5beaa9(0x126))](_0x3598e2,ERC20_ABI,_0x493a19),_0x427b91=await _0x4ff207[_0x5beaa9(0x123)](_0x493a19[_0x5beaa9(0x119)]),_0x4a6633=await _0x4ff207[_0x5beaa9(0x12d)]();return ethers[_0x5beaa9(0x117)](_0x427b91,_0x4a6633);}catch(_0x2e3581){return console['error']('\x20'+colorText('Failed\x20to\x20check\x20balance\x20for\x20token\x20'+_0x3598e2+':',COLORS[_0x5beaa9(0x129)]),_0x2e3581[_0x5beaa9(0x121)]),'0';}}async function approveToken(_0x1a3d13,_0x502217,_0x52bcd3,_0x2c0e72){const _0xbaf162=_0x12a85a;try{if(!ethers[_0xbaf162(0x11c)](_0x52bcd3))throw new Error(_0xbaf162(0x108)+_0x52bcd3);const _0x16ccf2=new ethers[(_0xbaf162(0x126))](_0x502217,ERC20_ABI,_0x1a3d13),_0x23523b=await _0x16ccf2[_0xbaf162(0x12d)](),_0x50f247=ethers[_0xbaf162(0x12e)](_0x2c0e72[_0xbaf162(0x11d)](),_0x23523b),_0x4c6dbc=await _0x16ccf2['allowance'](_0x1a3d13['address'],_0x52bcd3);if(_0x4c6dbc>=_0x50f247)return console[_0xbaf162(0x118)]('\x20'+colorText(_0xbaf162(0x116),COLORS[_0xbaf162(0x127)])),!![];console['log']('\x20'+colorText('Approving\x20'+_0x2c0e72+'\x20tokens\x20for\x20spending...',COLORS[_0xbaf162(0x10a)]));const _0x430544=await _0x16ccf2[_0xbaf162(0x114)](_0x52bcd3,_0x50f247,{'gasLimit':0x33450});return console[_0xbaf162(0x118)]('\x20'+colorText(_0xbaf162(0x109)+_0x430544[_0xbaf162(0x10e)],COLORS[_0xbaf162(0x10c)])),console['log']('\x20'+colorText(_0xbaf162(0x128)+NETWORKS[_0x1a3d13[_0xbaf162(0x125)]][_0xbaf162(0x11b)]+_0xbaf162(0x12f)+_0x430544[_0xbaf162(0x10e)],COLORS[_0xbaf162(0x127)])),await _0x430544[_0xbaf162(0x106)](),console[_0xbaf162(0x118)]('\x20'+colorText(_0xbaf162(0x115),COLORS[_0xbaf162(0x105)])),!![];}catch(_0x56e1f4){if(_0x56e1f4['code']===_0xbaf162(0x11f)||_0x56e1f4[_0xbaf162(0x121)]&&(_0x56e1f4[_0xbaf162(0x121)][_0xbaf162(0x103)]('insufficient\x20funds')||_0x56e1f4[_0xbaf162(0x121)][_0xbaf162(0x103)]('Signer\x20had\x20insufficient\x20balance')||_0x56e1f4[_0xbaf162(0x121)][_0xbaf162(0x103)](_0xbaf162(0x113)))){console[_0xbaf162(0x120)]('\x20'+colorText(_0xbaf162(0x122),COLORS[_0xbaf162(0x129)]));const _0x5b5473=new Error(_0x56e1f4[_0xbaf162(0x121)]||_0xbaf162(0x11a)||_0xbaf162(0x101));_0x5b5473['code']=_0xbaf162(0x11f);throw _0x5b5473;}return console[_0xbaf162(0x120)]('\x20'+colorText('Failed\x20to\x20approve\x20token:',COLORS[_0xbaf162(0x129)]),_0x56e1f4[_0xbaf162(0x121)]),![];}}async function estimateGasFees(_0x27cb14){const _0x114180=_0x12a85a;try{const _0x2f6a21=await _0x27cb14['getFeeData'](),_0x5ec614=ethers[_0x114180(0x12e)](_0x114180(0x10b),_0x114180(0x10f)),_0x3f2a2b=ethers[_0x114180(0x12e)](_0x114180(0x10b),_0x114180(0x10f)),_0x3d0a01=_0x2f6a21['maxPriorityFeePerGas']??_0x5ec614;let _0x1b5b87=_0x2f6a21[_0x114180(0x104)]??_0x3f2a2b;return _0x3d0a01>_0x1b5b87&&(_0x1b5b87=_0x3d0a01),{'maxFeePerGas':_0x1b5b87,'maxPriorityFeePerGas':_0x3d0a01};}catch(_0x1d3a57){console[_0x114180(0x120)]('\x20'+colorText('Failed\x20to\x20estimate\x20gas\x20fees,\x20using\x20defaults:',COLORS[_0x114180(0x10a)]),_0x1d3a57['message']);const _0x2a08db=parseUnits(_0x114180(0x10b),'gwei');return{'maxFeePerGas':_0x2a08db,'maxPriorityFeePerGas':_0x2a08db};}}module['exports']={'checkBalance':checkBalance,'checkEthBalance':checkEthBalance,'approveToken':approveToken,'estimateGasFees':estimateGasFees};