function _0x264e(){const _0x382c87=['log','R2USD','/tx/','8MdkCDd','../config/config','get_balance','Additional\x20approval\x20needed\x20for\x20','name','LP\x20contract\x20not\x20defined\x20for\x20','s)...','blockNumber','Transaction\x20confirmation\x20timed\x20out\x20after\x20','Not\x20enough\x20balance\x20of\x20R2USD\x20or\x20SR2USD,\x20skipping\x20liquidity\x20addition','Operation\x20timed\x20out\x20after\x20','Liquidity\x20added\x20successfully\x20in\x20block\x20','Pool\x20ratio\x20(SR2USD:R2USD):\x20','Using\x20fallback\x20approach\x20for\x20amount\x20calculation','Current\x20SR2USD\x20balance:\x20',',\x20skipping\x20liquidity\x20addition','timed\x20out','exports','Transaction\x20sent:\x20','balances','\x20approved:\x20','INSUFFICIENT_FUNDS','hash','Slippage:\x20','32460BbgywB','s...','GREEN','0.1','balanceOf','error','Check\x20on\x20explorer:\x20','Failed\x20to\x20get\x20pool\x20balances:\x20','Approval\x20transaction\x20sent:\x20','WHITE','s:\x20','decimals','estimateGas','parseUnits','race','\x20to\x20add\x20liquidity','address','YELLOW','Retrying\x20in\x20','2553276XoKeJV','Allowance\x20is\x20sufficient\x20for\x20','Insufficient\x20funds\x20for\x20gas',',\x20no\x20additional\x20approval\x20needed','Transaction\x20timed\x20out\x20after\x20','Attempt\x20','Unknown\x20error\x20occurred','Insufficient\x20balances\x20for\x20gas\x20fees','54vDPhGw','R2USD\x20balance\x20is\x20less\x20than\x201,\x20skipping\x20liquidity\x20addition','18xCTicX','Proceeding\x20with\x20default\x20LP\x20token\x20estimation','code','toFixed','Adding\x20R2USD:\x20','formatUnits','Pool\x20R2USD\x20balance:\x20','):\x20','6017nBFOra','Contract','CYAN','\x20attempts','404qUreeO','Error\x20during\x20liquidity\x20addition\x20process\x20(attempt\x20','calc_token_amount','LP_CONTRACT','message','Current\x20allowance\x20for\x20','...','RED','../utils/colors','Current\x20R2USD\x20balance:\x20','78692WSgDHh','insufficient\x20balance','Signer\x20had\x20insufficient\x20balance','Adding\x20SR2USD:\x20','3603620rxPmah','42820XURLNg','Failed\x20to\x20add\x20liquidity\x20after\x20','Failed\x20to\x20estimate\x20LP\x20tokens:\x20','allowance','networkKey','includes','29804FXCOXH','wait','insufficient\x20funds','4796393ZfuJBB','Estimated\x20LP\x20tokens:\x20','ethers'];_0x264e=function(){return _0x382c87;};return _0x264e();}const _0x5bef6e=_0x5e11;(function(_0x18e2d0,_0x53af16){const _0x475166=_0x5e11,_0x1dc5bb=_0x18e2d0();while(!![]){try{const _0x30ad63=parseInt(_0x475166(0x1b9))/0x1+-parseInt(_0x475166(0x1ae))/0x2*(parseInt(_0x475166(0x196))/0x3)+parseInt(_0x475166(0x1a4))/0x4*(parseInt(_0x475166(0x1b3))/0x5)+parseInt(_0x475166(0x18e))/0x6+-parseInt(_0x475166(0x1bc))/0x7*(-parseInt(_0x475166(0x1c2))/0x8)+-parseInt(_0x475166(0x198))/0x9*(-parseInt(_0x475166(0x1b2))/0xa)+parseInt(_0x475166(0x1a0))/0xb*(-parseInt(_0x475166(0x17b))/0xc);if(_0x30ad63===_0x53af16)break;else _0x1dc5bb['push'](_0x1dc5bb['shift']());}catch(_0xd423ee){_0x1dc5bb['push'](_0x1dc5bb['shift']());}}}(_0x264e,0x83706));const {ethers}=require(_0x5bef6e(0x1be)),{NETWORKS,ERC20_ABI,LP_ABI}=require(_0x5bef6e(0x1c3)),{colorText,COLORS}=require(_0x5bef6e(0x1ac));async function checkAndApproveToken(_0x323847,_0x19b41e,_0x3a0f66,_0x34610f,_0x2380cc,_0x29b144){const _0x6f44cc=_0x5bef6e;console['log']('\x20'+colorText('Checking\x20approval\x20for\x20'+_0x2380cc+_0x6f44cc(0x1aa),COLORS[_0x6f44cc(0x1a2)]));const _0x1975d3=await _0x19b41e[_0x6f44cc(0x1b6)](_0x323847[_0x6f44cc(0x18b)],_0x3a0f66);console['log']('\x20'+colorText(_0x6f44cc(0x1a9)+_0x2380cc+':\x20'+ethers['formatUnits'](_0x1975d3,_0x29b144),COLORS[_0x6f44cc(0x184)]));if(_0x1975d3>=_0x34610f)return console[_0x6f44cc(0x1bf)]('\x20'+colorText(_0x6f44cc(0x18f)+_0x2380cc+_0x6f44cc(0x191),COLORS[_0x6f44cc(0x17d)])),{'needed':![]};console[_0x6f44cc(0x1bf)]('\x20'+colorText(_0x6f44cc(0x1c5)+_0x2380cc,COLORS['YELLOW']));try{const _0x3654b7=await _0x19b41e['approve'](_0x3a0f66,_0x34610f);return console[_0x6f44cc(0x1bf)]('\x20'+colorText(_0x6f44cc(0x183)+_0x3654b7[_0x6f44cc(0x179)],COLORS[_0x6f44cc(0x1a2)])),await _0x3654b7[_0x6f44cc(0x1ba)](),console[_0x6f44cc(0x1bf)]('\x20'+colorText(_0x2380cc+_0x6f44cc(0x177)+_0x3654b7[_0x6f44cc(0x179)],COLORS['GREEN'])),{'needed':!![],'txHash':_0x3654b7['hash']};}catch(_0x221403){console['error']('\x20'+colorText('Failed\x20to\x20approve\x20'+_0x2380cc+':\x20'+_0x221403[_0x6f44cc(0x1a8)],COLORS[_0x6f44cc(0x1ab)]));throw _0x221403;}}function timeout(_0x5b47a2){return new Promise((_0x39643d,_0x16200a)=>{const _0x3d049c=_0x5e11;setTimeout(()=>_0x16200a(new Error(_0x3d049c(0x1cc)+_0x5b47a2+'ms')),_0x5b47a2);});}function _0x5e11(_0x304691,_0x42a084){const _0x264eb0=_0x264e();return _0x5e11=function(_0x5e1112,_0x5ecf10){_0x5e1112=_0x5e1112-0x171;let _0x2ea05e=_0x264eb0[_0x5e1112];return _0x2ea05e;},_0x5e11(_0x304691,_0x42a084);}async function waitForTxWithTimeout(_0x6e39ca,_0x9128df=0x7530){const _0xeed80e=_0x5bef6e;try{return await Promise[_0xeed80e(0x189)]([_0x6e39ca[_0xeed80e(0x1ba)](),timeout(_0x9128df)]);}catch(_0x40ae18){if(_0x40ae18[_0xeed80e(0x1a8)][_0xeed80e(0x1b8)](_0xeed80e(0x173)))throw new Error(_0xeed80e(0x1ca)+_0x9128df/0x3e8+_0xeed80e(0x185)+_0x6e39ca[_0xeed80e(0x179)]);throw _0x40ae18;}}async function addLiquidity(_0x1a637b,_0x344497,_0x358da0,_0x940a6a=!![],_0x12f79c=0.1){const _0x35796c=_0x5bef6e,_0x5b28aa=0x3,_0x578e10=0x7530;let _0x30b40d=0x0,_0x20cfab=null;while(_0x30b40d<_0x5b28aa){try{console['log']('\x20'+colorText(_0x35796c(0x193)+(_0x30b40d+0x1)+'/'+_0x5b28aa+_0x35796c(0x18a),_0x30b40d>0x0?COLORS[_0x35796c(0x18c)]:COLORS[_0x35796c(0x1a2)]));const {contracts:_0x5f4f26}=NETWORKS[_0x1a637b[_0x35796c(0x1b7)]];if(!_0x5f4f26[_0x35796c(0x1a7)])return console[_0x35796c(0x1bf)]('\x20'+colorText(_0x35796c(0x1c7)+_0x1a637b[_0x35796c(0x1b7)]+_0x35796c(0x172),COLORS['YELLOW'])),null;console[_0x35796c(0x1bf)]('\x20'+colorText('Adding\x20Liquidity\x20on\x20'+NETWORKS[_0x1a637b['networkKey']][_0x35796c(0x1c6)],COLORS[_0x35796c(0x1a2)]));const _0x193369=new ethers['Contract'](_0x5f4f26['R2USD_ADDRESS'],ERC20_ABI,_0x1a637b),_0x3bd8ff=new ethers[(_0x35796c(0x1a1))](_0x5f4f26['SR2USD_ADDRESS'],ERC20_ABI,_0x1a637b),_0x2a80d9=new ethers[(_0x35796c(0x1a1))](_0x5f4f26[_0x35796c(0x1a7)],LP_ABI,_0x1a637b),_0x5ba3cd=await _0x193369[_0x35796c(0x186)](),_0x2bde4b=await _0x3bd8ff[_0x35796c(0x186)](),_0x2e3923=await _0x193369['balanceOf'](_0x1a637b[_0x35796c(0x18b)]),_0x1de662=await _0x3bd8ff[_0x35796c(0x17f)](_0x1a637b[_0x35796c(0x18b)]);console[_0x35796c(0x1bf)]('\x20'+colorText(_0x35796c(0x1ad)+ethers['formatUnits'](_0x2e3923,_0x5ba3cd),COLORS[_0x35796c(0x184)])),console[_0x35796c(0x1bf)]('\x20'+colorText(_0x35796c(0x171)+ethers['formatUnits'](_0x1de662,_0x2bde4b),COLORS[_0x35796c(0x184)]));let _0x295c32,_0x468726;if(_0x2e3923===BigInt(0x0)||_0x1de662===BigInt(0x0))return console[_0x35796c(0x1bf)]('\x20'+colorText(_0x35796c(0x1cb),COLORS['YELLOW'])),null;if(Number(ethers['formatUnits'](_0x2e3923,_0x5ba3cd))<0x1)return console['log']('\x20'+colorText(_0x35796c(0x197),COLORS[_0x35796c(0x18c)])),null;let _0x1f28f2,_0x33ac6f;try{try{_0x1f28f2=await _0x2a80d9['get_balance'](0x1),_0x33ac6f=await _0x2a80d9[_0x35796c(0x1c4)](0x0);}catch(_0x30e02f){_0x1f28f2=await _0x2a80d9[_0x35796c(0x176)](0x1),_0x33ac6f=await _0x2a80d9[_0x35796c(0x176)](0x0);}console[_0x35796c(0x1bf)]('\x20'+colorText(_0x35796c(0x19e)+ethers['formatUnits'](_0x1f28f2,_0x5ba3cd),COLORS[_0x35796c(0x184)])),console[_0x35796c(0x1bf)]('\x20'+colorText('Pool\x20SR2USD\x20balance:\x20'+ethers[_0x35796c(0x19d)](_0x33ac6f,_0x2bde4b),COLORS[_0x35796c(0x184)]));const _0x4aece7=ethers[_0x35796c(0x19d)](_0x33ac6f,_0x2bde4b)/ethers[_0x35796c(0x19d)](_0x1f28f2,_0x5ba3cd);console[_0x35796c(0x1bf)]('\x20'+colorText(_0x35796c(0x1ce)+_0x4aece7[_0x35796c(0x19b)](0x6),COLORS['WHITE']));if(_0x940a6a){_0x468726=_0x1de662;const _0x74e09=Number(ethers['formatUnits'](_0x1de662,_0x2bde4b))/_0x4aece7;if(_0x74e09<=Number(ethers['formatUnits'](_0x2e3923,_0x5ba3cd)))_0x295c32=ethers[_0x35796c(0x188)](_0x74e09[_0x35796c(0x19b)](_0x5ba3cd),_0x5ba3cd);else{_0x295c32=_0x2e3923;const _0x5a55a1=Number(ethers['formatUnits'](_0x2e3923,_0x5ba3cd))*_0x4aece7;_0x468726=ethers['parseUnits'](_0x5a55a1[_0x35796c(0x19b)](_0x2bde4b),_0x2bde4b);}}else _0x295c32=ethers[_0x35796c(0x188)](_0x344497,_0x5ba3cd),_0x468726=ethers[_0x35796c(0x188)](_0x358da0,_0x2bde4b);}catch(_0x1a17c7){console[_0x35796c(0x1bf)]('\x20'+colorText(_0x35796c(0x182)+_0x1a17c7[_0x35796c(0x1a8)],COLORS['YELLOW'])),console[_0x35796c(0x1bf)]('\x20'+colorText(_0x35796c(0x1cf),COLORS[_0x35796c(0x1a2)])),Number(ethers[_0x35796c(0x19d)](_0x2e3923,_0x5ba3cd))<Number(ethers[_0x35796c(0x19d)](_0x1de662,_0x2bde4b))?(_0x295c32=_0x2e3923,_0x468726=_0x2e3923):(_0x468726=_0x1de662,_0x295c32=_0x1de662);}if(_0x295c32>_0x2e3923)_0x295c32=_0x2e3923;if(_0x468726>_0x1de662)_0x468726=_0x1de662;console[_0x35796c(0x1bf)]('\x20'+colorText(_0x35796c(0x19c)+ethers[_0x35796c(0x19d)](_0x295c32,_0x5ba3cd),COLORS[_0x35796c(0x1a2)])),console[_0x35796c(0x1bf)]('\x20'+colorText(_0x35796c(0x1b1)+ethers[_0x35796c(0x19d)](_0x468726,_0x2bde4b),COLORS[_0x35796c(0x1a2)]));if(_0x295c32<=ethers[_0x35796c(0x188)]('0.1',_0x5ba3cd)||_0x468726<=ethers[_0x35796c(0x188)](_0x35796c(0x17e),_0x2bde4b))return console[_0x35796c(0x1bf)]('\x20'+colorText('Amounts\x20too\x20small\x20for\x20liquidity\x20addition,\x20skipping',COLORS[_0x35796c(0x18c)])),null;await checkAndApproveToken(_0x1a637b,_0x193369,_0x5f4f26[_0x35796c(0x1a7)],_0x295c32,_0x35796c(0x1c0),_0x5ba3cd),await checkAndApproveToken(_0x1a637b,_0x3bd8ff,_0x5f4f26[_0x35796c(0x1a7)],_0x468726,'SR2USD',_0x2bde4b);let _0x19a6b0;try{_0x19a6b0=await _0x2a80d9[_0x35796c(0x1a6)]([_0x468726,_0x295c32],!![]),console[_0x35796c(0x1bf)]('\x20'+colorText(_0x35796c(0x1bd)+ethers[_0x35796c(0x19d)](_0x19a6b0,0x12),COLORS[_0x35796c(0x184)]));}catch(_0x4794bd){console[_0x35796c(0x1bf)]('\x20'+colorText(_0x35796c(0x1b5)+_0x4794bd['message'],COLORS[_0x35796c(0x18c)])),console['log']('\x20'+colorText(_0x35796c(0x199),COLORS[_0x35796c(0x1a2)])),_0x19a6b0=ethers[_0x35796c(0x188)]('1',0x12);}const _0x1dc2c2=0x64-_0x12f79c,_0x5128a5=_0x19a6b0*BigInt(Math['floor'](_0x1dc2c2*0x64))/BigInt(0x2710);console[_0x35796c(0x1bf)]('\x20'+colorText(_0x35796c(0x17a)+_0x12f79c+'%',COLORS[_0x35796c(0x184)])),console[_0x35796c(0x1bf)]('\x20'+colorText('Min\x20LP\x20tokens\x20(with\x20slippage):\x20'+ethers[_0x35796c(0x19d)](_0x5128a5,0x12),COLORS[_0x35796c(0x184)]));try{const _0x15f8de=[_0x468726,_0x295c32];let _0x520010;try{const _0x2c01a4=await _0x2a80d9['add_liquidity'][_0x35796c(0x187)](_0x15f8de,_0x5128a5);_0x520010=_0x2c01a4+BigInt(0x186a0);}catch(_0xdad1c){console[_0x35796c(0x1bf)]('\x20'+colorText('Gas\x20estimation\x20failed,\x20using\x20default\x20gas\x20limit',COLORS[_0x35796c(0x18c)])),_0x520010=BigInt(0xafc80);}console[_0x35796c(0x1bf)]('\x20'+colorText('Adding\x20liquidity\x20with\x20gas\x20limit:\x20'+_0x520010,COLORS[_0x35796c(0x1a2)]));const _0x3c311d=await _0x2a80d9['add_liquidity'](_0x15f8de,_0x5128a5,{'gasLimit':_0x520010});console[_0x35796c(0x1bf)]('\x20'+colorText(_0x35796c(0x175)+_0x3c311d['hash'],COLORS[_0x35796c(0x1a2)])),console['log']('\x20'+colorText(_0x35796c(0x181)+NETWORKS[_0x1a637b[_0x35796c(0x1b7)]]['explorer']+_0x35796c(0x1c1)+_0x3c311d[_0x35796c(0x179)],COLORS['GRAY'])),console[_0x35796c(0x1bf)]('\x20'+colorText('Waiting\x20for\x20transaction\x20confirmation\x20(timeout:\x20'+_0x578e10/0x3e8+_0x35796c(0x1c8),COLORS[_0x35796c(0x1a2)]));const _0x4e27a9=await waitForTxWithTimeout(_0x3c311d,_0x578e10);return console[_0x35796c(0x1bf)]('\x20'+colorText(_0x35796c(0x1cd)+_0x4e27a9[_0x35796c(0x1c9)],COLORS[_0x35796c(0x17d)])),{'success':!![],'transactionHash':_0x3c311d[_0x35796c(0x179)],'r2usdAmount':ethers[_0x35796c(0x19d)](_0x295c32,_0x5ba3cd),'sr2usdAmount':ethers[_0x35796c(0x19d)](_0x468726,_0x2bde4b),'estimatedLpTokens':ethers['formatUnits'](_0x19a6b0,0x12),'attempts':_0x30b40d+0x1};}catch(_0x4bfdf9){_0x20cfab=_0x4bfdf9;if(_0x4bfdf9[_0x35796c(0x1a8)][_0x35796c(0x1b8)](_0x35796c(0x173))){console['error']('\x20'+colorText(_0x35796c(0x192)+_0x578e10/0x3e8+'s,\x20retrying\x20('+(_0x30b40d+0x1)+'/'+_0x5b28aa+')',COLORS['YELLOW'])),_0x30b40d++;continue;}if(_0x4bfdf9[_0x35796c(0x19a)]===_0x35796c(0x178)||_0x4bfdf9['message']&&(_0x4bfdf9[_0x35796c(0x1a8)][_0x35796c(0x1b8)]('insufficient\x20funds')||_0x4bfdf9[_0x35796c(0x1a8)][_0x35796c(0x1b8)](_0x35796c(0x1b0))||_0x4bfdf9[_0x35796c(0x1a8)][_0x35796c(0x1b8)](_0x35796c(0x1af)))){console['error']('\x20'+colorText(_0x35796c(0x195),COLORS['RED']));const _0x8067cd=new Error(_0x4bfdf9[_0x35796c(0x1a8)]||_0x35796c(0x190)||_0x35796c(0x1b0));_0x8067cd[_0x35796c(0x19a)]=_0x35796c(0x178);throw _0x8067cd;}console[_0x35796c(0x180)]('\x20'+colorText('Failed\x20to\x20add\x20liquidity\x20(attempt\x20'+(_0x30b40d+0x1)+'/'+_0x5b28aa+_0x35796c(0x19f)+_0x4bfdf9[_0x35796c(0x1a8)],COLORS['RED'])),_0x30b40d++;if(_0x30b40d<_0x5b28aa){const _0x54aac2=Math['min'](0x3e8*0x2**_0x30b40d,0x1388);console[_0x35796c(0x1bf)]('\x20'+colorText(_0x35796c(0x18d)+_0x54aac2/0x3e8+_0x35796c(0x17c),COLORS[_0x35796c(0x18c)])),await new Promise(_0x3bec9b=>setTimeout(_0x3bec9b,_0x54aac2));}}}catch(_0x294439){_0x20cfab=_0x294439;if(_0x294439['code']===_0x35796c(0x178)||_0x294439[_0x35796c(0x1a8)]&&(_0x294439['message'][_0x35796c(0x1b8)](_0x35796c(0x1bb))||_0x294439[_0x35796c(0x1a8)][_0x35796c(0x1b8)](_0x35796c(0x1b0))||_0x294439['message'][_0x35796c(0x1b8)](_0x35796c(0x1af)))){console[_0x35796c(0x180)]('\x20'+colorText('Insufficient\x20balances\x20for\x20gas\x20fees',COLORS['RED']));const _0x24a394=new Error(_0x294439[_0x35796c(0x1a8)]||'Insufficient\x20funds\x20for\x20gas'||'Signer\x20had\x20insufficient\x20balance');_0x24a394['code']=_0x35796c(0x178);throw _0x24a394;}console[_0x35796c(0x180)]('\x20'+colorText(_0x35796c(0x1a5)+(_0x30b40d+0x1)+'/'+_0x5b28aa+'):\x20'+_0x294439[_0x35796c(0x1a8)],COLORS[_0x35796c(0x1ab)])),_0x30b40d++;if(_0x30b40d<_0x5b28aa){const _0x21d425=Math['min'](0x3e8*0x2**_0x30b40d,0x1388);console[_0x35796c(0x1bf)]('\x20'+colorText(_0x35796c(0x18d)+_0x21d425/0x3e8+_0x35796c(0x17c),COLORS['YELLOW'])),await new Promise(_0x171b73=>setTimeout(_0x171b73,_0x21d425));}}}return console[_0x35796c(0x180)]('\x20'+colorText(_0x35796c(0x1b4)+_0x5b28aa+_0x35796c(0x1a3),COLORS[_0x35796c(0x1ab)])),{'success':![],'error':_0x20cfab?_0x20cfab[_0x35796c(0x1a8)]:_0x35796c(0x194),'attempts':_0x5b28aa};}module[_0x5bef6e(0x174)]={'addLiquidity':addLiquidity};